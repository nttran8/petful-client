(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/welcome.59efeccc.jpg"},24:function(e,t,a){e.exports=a(39)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(20),c=a.n(s),r=a(10),l=a(11),u=a(3),i=a(4),d=a(6),p=a(5),m=a(7);function h(){return o.a.createElement("div",{className:"Header"},o.a.createElement("header",null,o.a.createElement("p",null,o.a.createElement(r.b,{className:"nav title",to:"/"},"Petful"))),o.a.createElement("ol",{className:"navbar"},o.a.createElement("li",null),o.a.createElement("li",null,o.a.createElement(r.b,{className:"nav",to:"/adoption"},"Adopt")),o.a.createElement("li",null,o.a.createElement(r.b,{className:"nav",to:"/queue"},"Wait Line")),o.a.createElement("li",null,o.a.createElement(r.b,{className:"nav",to:"/successstories"},"Success Stories"))))}a(34);var g=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.pet;return o.a.createElement("div",{className:"pet"},o.a.createElement("img",{className:"pet-pic",src:e.imageURL,alt:"picture of said pet"}),o.a.createElement("div",{className:"info"},o.a.createElement("h3",{className:"pet-name"},e.name),o.a.createElement("div",{className:"breed-age-sex"},o.a.createElement("ul",{className:"breed-age-sex-list"},o.a.createElement("li",null,e.breed),o.a.createElement("li",null,e.age),o.a.createElement("li",null,e.gender))),o.a.createElement("p",null,e.description)))}}]),t}(n.Component),f="https://petful-server-nhgi-taylorp.herokuapp.com/api",E={getUsers:function(){return fetch("".concat(f,"/people")).then((function(e){return e.json()}))},postUsers:function(e){return fetch("".concat(f,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)})},deleteUsers:function(){return fetch("".concat(f,"/people"),{method:"DELETE"})},getPets:function(){return fetch("".concat(f,"/pets")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},deletePets:function(e){return fetch("".concat(f,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({type:e})}).then((function(e){return e.json()}))}},b=a(14),v=o.a.createContext({user:null,adoptedCat:!1,adoptedDog:!1,successStories:[],updateUser:function(){},updateAdoption:function(){},updateSuccessStories:function(){}}),y=v,S=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={user:null,adoptedCat:!1,adoptedDog:!1,successStories:[{imageURL:"https://boygeniusreport.files.wordpress.com/2016/11/puppy-dog.jpg?quality=98&strip=all",name:"Fluffy"},{imageURL:"https://images.pexels.com/photos/923360/pexels-photo-923360.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",name:"Oreo"},{imageURL:"https://images.pexels.com/photos/1472999/pexels-photo-1472999.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",name:"P-Tato"}]},a.updateUser=function(e){a.setState({user:e})},a.updateAdoption=function(e){"cat"===e?a.setState({adoptedCat:!0}):a.setState({adoptedDog:!0})},a.updateSuccessStories=function(e){var t={imageURL:e.imageURL,name:e.name};a.setState({successStories:[t].concat(Object(b.a)(a.state.successStories))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={user:this.state.user,adoptedCat:this.state.adoptedCat,adoptedDog:this.state.adoptedDog,successStories:this.state.successStories,updateUser:this.updateUser,updateAdoption:this.updateAdoption,updateSuccessStories:this.updateSuccessStories};return o.a.createElement(v.Provider,{value:e},this.props.children)}}]),t}(n.Component),N=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={cats:null,dogs:null,loaded:!1},a.handleOnClickCat=function(){alert("Congratulations, you've adopted our beloved ".concat(a.state.cats[0].name,"! Please see the success stories tab to for ").concat(a.state.cats[0].name,"'s feature.")),E.deletePets("cat").then((function(e){a.context.updateSuccessStories(e),a.context.updateAdoption("cat")})),!0===a.context.adoptedDog&&a.disableAdoptionButton()},a.handleOnClickDog=function(){alert("Congratulations, you've adopted our beloved ".concat(a.state.dogs[0].name,"! Please see the success stories tab to for ").concat(a.state.dogs[0].name,"'s feature.")),E.deletePets("dog").then((function(e){a.context.updateSuccessStories(e),a.context.updateAdoption("dog")})),!0===a.context.adoptedCat&&a.disableAdoptionButton()},a.disableAdoptionButton=function(){window.localStorage.setItem("canAdopt","false"),a.context.updateUser(null)},a.renderUpNextCatsList=function(){var e=a.state.cats;return(void 0===e?[]:e).map((function(e){return o.a.createElement("li",null,e.name)}))},a.renderUpNextDogsList=function(){var e=a.state.dogs;return(void 0===e?[]:e).map((function(e){return o.a.createElement("li",null,e.name)}))},a.renderAdoptCatButton=function(){if("true"===window.localStorage.getItem("canAdopt")&&!a.context.adoptedCat)return o.a.createElement("button",{type:"button",onClick:a.handleOnClickCat},"Adopt Me!")},a.renderAdoptDogButton=function(){if("true"===window.localStorage.getItem("canAdopt")&&!a.context.adoptedDog)return o.a.createElement("button",{type:"button",onClick:a.handleOnClickDog},"Adopt Me!")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"openTab",value:function(e){var t,a,n,o=e.currentTarget.value;for(a=document.getElementsByClassName("tabContent"),t=0;t<a.length;t++)a[t].style.display="none";for(n=document.getElementsByClassName("tabLinks"),t=0;t<n.length;t++)n[t].className=n[t].className.replace("active","");document.getElementById(o).style.display="flex",e.currentTarget.className+="active"}},{key:"componentDidMount",value:function(){var e=this;document.getElementsByClassName("tabLinks")[0].click(),E.getPets().then((function(t){e.setState({cats:t.cat,dogs:t.dog,loaded:!0})}))}},{key:"render",value:function(){var e=this.state.loaded;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),o.a.createElement("section",{className:"AdoptionPage"},o.a.createElement("div",{className:"up-next"},o.a.createElement("div",{className:"cats-next"},o.a.createElement("h1",null,"Cats:"),o.a.createElement("ol",{className:"upNext-list"},e&&this.renderUpNextCatsList())),o.a.createElement("div",{className:"dogs-next"},o.a.createElement("h1",null,"Dogs:"),o.a.createElement("ol",{className:"upNext-list"},e&&this.renderUpNextDogsList()))),o.a.createElement("section",{className:"available-pet"},o.a.createElement("div",{className:"tab"},o.a.createElement("button",{className:"tabLinks",id:"defaultOpen",value:"Cat",onClick:this.openTab},"Cat"),o.a.createElement("button",{className:"tabLinks",value:"Dog",onClick:this.openTab},"Dog")),o.a.createElement("div",{id:"Cat",className:"tabContent"},e&&o.a.createElement(g,{pet:this.state.cats[0]})," ",this.renderAdoptCatButton()),o.a.createElement("div",{id:"Dog",className:"tabContent"},e&&o.a.createElement(g,{pet:this.state.dogs[0]})," ",this.renderAdoptDogButton()))))}}]),t}(n.Component));N.contextType=y;var C=a(23),j=a.n(C),O=(a(36),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).addUser=function(){var e;null===window.localStorage.getItem("canAdopt")?e=prompt("What is your name?"):(alert("Each person can only adopt once."),a.props.addToQueue()),e&&(a.context.updateUser(e),E.deleteUsers((function(){return E.postUsers({name:e}).then((function(){return a.props.addToQueue()}))})))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"HomePage"},o.a.createElement("h1",null,"Petful:"),o.a.createElement("p",null,'A place to find your next doggo and catto besfriends! Each adoptor can bring one doggo, one catto, or one of each home. To help our doggo and catto quickly find a home, we made it a rule for the adoptor to only claim the next available doggo and catto. The adoption process only takes 5 seconds per user. Click "Adopt Now" to be entered in our waiting queue!'),o.a.createElement("img",{src:j.a,alt:"welcome cat"}),o.a.createElement("button",{type:"button",onClick:this.addUser},"Adopt now"))}}]),t}(n.Component));O.contextType=y;a(37);var k=null,x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={message:"Adopting Queue:",users:null},a.setTimer=function(e){k=setTimeout(a.dequeueEnqueue,5e3)},a.stopTimer=function(){clearTimeout(k)},a.dequeueEnqueue=function(){var e=["cat","dog"],t=e[Math.floor(Math.random()*e.length)],n=["Jessica","Thomas","Taylor","Nghi","Alan","Sarah","Junior","Mark","Eks","Jackie"],o=["Chirashi","Onigiri","Piccarreto","Tran","Unagi","Maki","Takowasa","Toro","Tamago","Sake"],s=n[Math.floor(Math.random()*n.length)]+" "+o[Math.floor(Math.random()*o.length)];E.deleteUsers().then((function(e){a.setState({users:[].concat(Object(b.a)(a.state.users.slice(1)),[s])})})),E.postUsers({name:s}),E.deletePets(t).then((function(e){a.context.updateSuccessStories(e)})).then((function(){a.checkAdoptionStatus(),k=setTimeout(a.dequeueEnqueue,5e3)}))},a.checkAdoptionStatus=function(){"false"===window.localStorage.getItem("canAdopt")&&null!==a.context.user&&(a.state.users.includes(a.context.user)||a.updateAdoptionStatus())},a.updateAdoptionStatus=function(){a.setState({message:"Congratulations! Please navigate to the 'Adopt' page to start the adoption process!"}),window.localStorage.setItem("canAdopt","true")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.getUsers().then((function(t){e.setState({users:t})})).then((function(){"true"===window.localStorage.getItem("canAdopt")?e.updateAdoptionStatus():(window.localStorage.setItem("canAdopt","false"),e.setState({message:"Adoption queue:"})),e.setTimer()})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,this.state.message),o.a.createElement("ul",{className:"queue-list"},this.state.users&&this.state.users.map((function(t,a){return e.context.user===t?o.a.createElement("li",{key:a+t,id:"showCurrentUser"},t):o.a.createElement("li",{key:a+t},t)}))))}}]),t}(n.Component);function A(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),o.a.createElement("section",{className:"QueuePage"},o.a.createElement(x,null)))}x.contextType=y;var w=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("ul",null,this.context.successStories.map((function(e,t){return o.a.createElement("li",{key:t+e.name,className:"pet_story"},o.a.createElement("h3",{className:"pet-name_story"},"Name: ",e.name),o.a.createElement("img",{className:"pet-pic_story",src:e.imageURL,alt:"adopted pet"}))})))}}]),t}(n.Component);function T(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),o.a.createElement("section",{className:"SuccessStoriesPage"},o.a.createElement("h1",null,"Congratulations for finding a home!"),o.a.createElement(w,null)))}function U(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,null),o.a.createElement("section",{className:"NotFoundPage"},o.a.createElement("h1",null,"Oops, this page doesn't exist."),o.a.createElement("p",null,"Please select any pages from the navigation.")))}w.contextType=y;var P=function(){return o.a.createElement("main",{className:"Root"},o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",render:function(e){var t=e.history;return o.a.createElement(O,{addToQueue:function(){return t.push("/queue")}})}}),o.a.createElement(l.a,{path:"/adoption",component:N}),o.a.createElement(l.a,{path:"/queue",component:A}),o.a.createElement(l.a,{path:"/successstories",component:T}),o.a.createElement(l.a,{component:U})))};a(38);c.a.render(o.a.createElement(r.a,null,o.a.createElement(S,null,o.a.createElement(P,null))),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.9ddccedb.chunk.js.map